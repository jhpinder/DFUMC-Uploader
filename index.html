<html lang="en">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<head>
  <title>DFUMC Virtual Choir</title>
  <link rel = "icon" href = "umhLogoWhite.png"
  type = "image/x-icon">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
<style media="screen">
.list-group-item {
  border-width: thin;
  border-color: grey;
  border-top: thin !important;
  border-top-style: solid !important;
  border-top-color: grey !important;
}
.list-group-item.active {
     background-color: #add6ff;
     color: black;
     border-color: blue;
     border-top-color: blue !important;
}
.bg-dark-1 {
  background: #eeeeee !important;
}
.display-5 {
    font-size: 2.5rem;
    font-weight: 300;
    line-height: 1.2;
}
.display-6 {
    font-size: 2.2rem;
    font-weight: 300;
    line-height: 1.2;
}

</style>
</head>
<body onload="updateList()">

  <nav class="navbar navbar-expand-sm navbar-light bg-light">
  <a class="navbar-brand" href="#">DFUMC Virtual Choir</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item active">
        <a class="nav-link" href="">Hymn Uploader<span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="hymnal">Hymn Sheets</a>
      </li>
    </ul>
  </div>
</nav>

<!--<div style="background-image: linear-gradient(#d3d3d3, #9e9e9e)">-->

<div class="container jumbotron pt-4 pb-4 mb-2 mt-2">
  <h1 class="display-5">Hymn Uploader</h1>
  <hr class="my-4">
  <ul class="lead">
    <li>
      Step 1: Select hymn number and type in your name.
    </li>
    <li>Step 2: Choose file. If you are on an iPhone or iPad, tap "Choose file" below, tap on the Photo Library button,
      find your video, select it, and wait until the "Compressing Video..." is complete. It will return you to this page once complete.
    </li>
    <li>
      Step 3: Submit video and wait until it says "Success" at the top of the page. It may take a minute or two to upload the video.
    </li>
  </ul>
</div>

<div class="container p-0">
  <form class="needs-validation" novalidate action="testUpload.php" method="POST" enctype="multipart/form-data" id="fileSubmit">

  <ul class="list-group bg-light rounded-lg p-3 mb-2 row-d-flex">
    <div class="display-5 pb-4">Select hymn:</div>
    <li class="list-group-item col-md-3 mb-3 mt-1 p-3 rounded-lg border-top active" id="152">Hymn 152 - Choir</li>
    <li class="list-group-item col-md-3 mb-3 mt-1 p-3 rounded-lg border-top" id="474">Hymn 474 - Quartet</li>
    <li class="list-group-item col-md-3 mb-1 mt-1 p-3 rounded-lg border-top" id="593">Hymn 593 - Solo</li>
  </ul>


  <div class="container bg-light mb-3 p-3 rounded-lg">
    <div class="display-5 pb-3">Type your name:</div>
    <input class="form-control form-control-lg" type="text" placeholder="Name" name="fullname" maxlength="30" required>
    <div class="invalid-feedback">
          Please enter your name.
        </div>
  </div>


  <!-- <label for="fullname">Your Name:</label><br>
     <input type="text" placeholder="Name" name="fullname" maxlength="30" required="required" style="font-size: 16; width: 150px">
     <input required="required" type="hidden" name="hymn">
    <input type="file" class="form-control-file" name="video" required="required" accept="video/*,audio/*" value="Choose Video"/><br><br>
     <input type="submit" onclick="this.form.submit();this.disabled = true" value="Submit Video"/> -->

  <div class="container bg-light mb-3 p-3 rounded-lg">
    <div class="display-5 pb-3">Upload the video:</div>



    <input required type="hidden" name="hymn">
    <!-- <input type="file" class="form-control-file" name="video" required accept="video/*,audio/*" value="Choose Video"/><br><br>
    <input type="submit" class="form-control display-6 form-control-lg btn btn-primary" onclick="this.form.submit();this.disabled = true" value="Submit Video"> -->
    <div class="custom-file mb-5">
      <input type="file" class="custom-file-input p-2" name="video" required accept="video/*,audio/*" id="customFile"/><br><br>
      <label class="custom-file-label"for="customFile">Choose file...</label>
    </div>
    <button type="submit" class="form-control display-6 form-control-lg btn btn-primary" onclick="this.form.submit();this.disabled = true">Submit Video</button>
  </div>


 </form>

</div>



<!-- DO NOT TOUCH!!!!! -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>

<script type="text/javascript">

function updateList() {
  var items = document.getElementsByClassName("list-group-item active");
  $('[name=hymn]').val(items[0].id);
};

$(function(){
      $('.list-group li').click(function(e) {
          e.preventDefault()
          $that = $(this);
          $that.parent().find('li').removeClass('active list-group-item-primary');
          $that.addClass('active list-group-item-primary');
          updateList();
      });
  })

  $(function() {
    'use strict';
    window.addEventListener('load', function() {
      // Fetch all the forms we want to apply custom Bootstrap validation styles to
      var forms = document.getElementsByClassName('needs-validation');
      // Loop over them and prevent submission
      var validation = Array.prototype.filter.call(forms, function(form) {
        form.addEventListener('submit', function(event) {
          if (form.checkValidity() == false) {
            event.preventDefault();
            event.stopPropagation();
          }
          form.classList.add('was-validated');
        }, false);
      });
    }, false);
  })

  $('.custom-file-input').on('change', function() {
    let fileName = $(this).val().split('\\').pop();
    $(this).siblings('.custom-file-label').addClass('selected').html(fileName);
});


</script>




</body>
</html>
